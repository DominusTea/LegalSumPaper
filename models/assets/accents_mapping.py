import unicodedata

ACCENT_MAPPING = {
    "ἀ" : 'α',
    "ἂ" : 'ά',
    "ἃ" : 'ά',
    'ἄ' : 'ά',
    'ἅ' : 'ά',
    'ἆ' : 'ά',
    'ἇ' : 'ά',
	'ἁ' : 'α',
   	"ἄ" : 'ά',
    "ἅ" : 'ά',
    "ἆ" : 'ά',
    'ἇ' : 'ά',
    'ἐ' : 'ε',
    'ἑ' :'ε',
    'ἒ' : 'έ',
    'ἓ' : 'έ',
    'ἔ' : 'έ',
    'ἕ' : 'έ',
    'ἠ' : 'η',
    'ἡ' : 'η',
    'ἢ' : 'ή',
    'ἣ' : 'ή',
    'ἤ' : 'ή',
    'ἥ' : 'ή',
    'ἦ' : 'ή',
    'ἧ' : 'ή',
    'ἰ' : 'ι',
    'ἱ' : 'ι',
    'ἲ' : 'ί',
    'ἳ' : 'ί',
    'ἴ' : 'ί',
    'ἵ' : 'ί',
    'ἶ' : 'ί',
    'ἷ' : 'ί',
    'ὀ' : 'ο',
    'ὁ' : 'ο',
    'ὂ' : 'ό',
    'ὃ' : 'ό',
    'ὄ' : 'ό',
    'ὅ' : 'ό',
    'ὐ' : 'υ',
    'ὑ' : 'υ',
    'ὒ' : 'ύ',
    'ὓ' : 'ύ',
    'ὔ' : 'ύ',
    'ὕ' : 'ύ',
    'ὖ' : 'ύ',
    'ὗ' : 'ύ',
    'ὠ' : 'ω',
    'ὡ' : 'ω',
    'ὢ' : 'ώ',
    'ὣ' : 'ώ',
    'ὤ' : 'ώ',
    'ὥ' : 'ώ',
    'ὦ' : 'ώ',
    'ὧ' : 'ώ',
    'ὰ' : 'ά',
    'ὲ' : 'έ',
    'ὴ' : 'ή',
    'ὶ' : 'ί',
    'ὸ' : 'ό',
    'ὺ' : 'ύ',
    'ὼ' : 'ώ',
    'ᾀ' : 'α',
    'ᾁ' : 'α',
    'ᾂ' : 'ά',
    'ᾃ' : 'ά',
    'ᾄ' : 'ά',
    'ᾅ' : 'ά',
    'ᾆ' : 'ά',
    'ᾇ' : 'ά',
    'ᾐ' : 'η',
    'ᾑ' : 'η',
    'ᾒ' : 'ή',
    'ᾓ' : 'ή',
    'ᾔ' : 'ή',
    'ᾕ' : 'ή',
    'ᾖ' : 'ή',
    'ᾗ' : 'ή',
    'ᾠ' : 'ω',
    'ᾡ' : 'ω',
    'ᾢ' : 'ώ',
    'ᾣ' : 'ώ',
    'ᾤ' : 'ώ',
    'ᾥ' : 'ώ',
    'ᾦ' : 'ώ',
    'ᾧ' : 'ώ',
    'ᾱ' : 'α',
    'ᾲ' : 'ά',
    'ᾳ' : 'α',
    'ᾴ' : 'ά',
    'ῒ' : 'ί',
    'ῲ' : 'ώ',
    'ῳ' : 'ω',
    'ῴ' : 'ώ',
    'ῶ' : 'ώ',
    'ῷ' : 'ώ'
}
ACCENT_MAPPING = {unicodedata.normalize('NFKC', i): j for i, j in ACCENT_MAPPING.items()}


def unaccentify(s):
    # https://stackoverflow.com/questions/35942129/remove-accent-marks-from-characters-while-preserving-other-diacritics
    source = unicodedata.normalize('NFKC', s)
    for old, new in ACCENT_MAPPING.items():
        source = source.replace(old, new)
    return source

if __name__=="__main__":
    str_test = 'αὐτὸς'
    print(f"before: {str_test}, after: {unaccentify(str_test)}")
